{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MSI\\\\MERN_project\\\\frontend\\\\src\\\\Component\\\\Product.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport Rating from \"./Rating\";\nimport axios from \"axios\";\nimport { Store } from \"../Store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Product(props) {\n  _s();\n\n  const {\n    product\n  } = props;\n  const {\n    state,\n    dispatch: ctxDispatch\n  } = useContext(Store);\n  const {\n    cart: {\n      cartItems\n    }\n  } = state;\n\n  const addToCartHandler = async item => {\n    const existItem = cartItems.find(x => x._id === product._id);\n    const quantity = existItem ? existItem.quantity + 1 : 1;\n    const {\n      data\n    } = await axios.get(`/api/products/${item._id}`);\n\n    if (data.countInStock < quantity) {\n      window.alert(\"Sorry Product is out of stock\");\n      return;\n    }\n\n    ctxDispatch({\n      type: \"CART_ADD_ITEM\",\n      payload: { ...item,\n        quantity\n      }\n    });\n  };\n\n  return (\n    /*#__PURE__*/\n\n    /*product cards in Homescreen*/\n    _jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${product.slug}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.image,\n          alt: product.image,\n          className: \"card-img-top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/product/${product.slug}`,\n          children: /*#__PURE__*/_jsxDEV(Card.Title, {\n            children: [product.name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Rating, {\n          rating: product.rating,\n          numReviews: product.numReviews\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n          children: [product.price, \" $\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this), product.countInStock === 0 ? /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"light\",\n          disabled: true,\n          children: \"Out Of Stock\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => addToCartHandler(product),\n          children: \"Add To Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }, this)\n  );\n}\n\n_s(Product, \"XDbruNh/h18/KyvLzI/kuU/R8wE=\");\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useContext","Link","Card","Button","Rating","axios","Store","Product","props","product","state","dispatch","ctxDispatch","cart","cartItems","addToCartHandler","item","existItem","find","x","_id","quantity","data","get","countInStock","window","alert","type","payload","slug","image","name","rating","numReviews","price"],"sources":["C:/Users/MSI/MERN_project/frontend/src/Component/Product.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Rating from \"./Rating\";\r\nimport axios from \"axios\";\r\nimport { Store } from \"../Store\";\r\n\r\n\r\nfunction Product(props) {\r\n  \r\n  const { product } = props;\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const {\r\n    cart: { cartItems },\r\n  } = state;\r\n\r\n\r\n  const addToCartHandler = async (item) => {\r\n    const existItem = cartItems.find((x) => x._id === product._id);\r\n    const quantity = existItem ? existItem.quantity + 1 : 1;\r\n    const { data } = await axios.get(`/api/products/${item._id}`);\r\n    if (data.countInStock < quantity) {\r\n      window.alert(\"Sorry Product is out of stock\");\r\n      return;\r\n    }\r\n    ctxDispatch({\r\n      type: \"CART_ADD_ITEM\",\r\n      payload: { ...item, quantity },\r\n    });\r\n  };\r\n \r\n  return (\r\n    /*product cards in Homescreen*/\r\n    <Card>\r\n      <Link to={`/product/${product.slug}`}>\r\n        <img src={product.image} alt={product.image} className=\"card-img-top\" />\r\n      </Link>\r\n      <Card.Body>\r\n        <Link to={`/product/${product.slug}`}>\r\n          <Card.Title>{product.name} </Card.Title>\r\n        </Link>\r\n        <Rating\r\n          rating={product.rating}\r\n          numReviews={product.numReviews}\r\n        ></Rating>\r\n        <Card.Text>{product.price} $</Card.Text>\r\n        {product.countInStock === 0 ? (\r\n          <Button variant=\"light\" disabled>\r\n            Out Of Stock\r\n          </Button>\r\n        ) : (\r\n          <Button onClick={() => addToCartHandler(product)}>Add To Cart</Button>\r\n        )}{\" \"}\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,UAAtB;;;AAGA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;EAAA;;EAEtB,MAAM;IAAEC;EAAF,IAAcD,KAApB;EACA,MAAM;IAAEE,KAAF;IAASC,QAAQ,EAAEC;EAAnB,IAAmCZ,UAAU,CAACM,KAAD,CAAnD;EACA,MAAM;IACJO,IAAI,EAAE;MAAEC;IAAF;EADF,IAEFJ,KAFJ;;EAKA,MAAMK,gBAAgB,GAAG,MAAOC,IAAP,IAAgB;IACvC,MAAMC,SAAS,GAAGH,SAAS,CAACI,IAAV,CAAgBC,CAAD,IAAOA,CAAC,CAACC,GAAF,KAAUX,OAAO,CAACW,GAAxC,CAAlB;IACA,MAAMC,QAAQ,GAAGJ,SAAS,GAAGA,SAAS,CAACI,QAAV,GAAqB,CAAxB,GAA4B,CAAtD;IACA,MAAM;MAAEC;IAAF,IAAW,MAAMjB,KAAK,CAACkB,GAAN,CAAW,iBAAgBP,IAAI,CAACI,GAAI,EAApC,CAAvB;;IACA,IAAIE,IAAI,CAACE,YAAL,GAAoBH,QAAxB,EAAkC;MAChCI,MAAM,CAACC,KAAP,CAAa,+BAAb;MACA;IACD;;IACDd,WAAW,CAAC;MACVe,IAAI,EAAE,eADI;MAEVC,OAAO,EAAE,EAAE,GAAGZ,IAAL;QAAWK;MAAX;IAFC,CAAD,CAAX;EAID,CAZD;;EAcA;IAAA;;IACE;IACA,QAAC,IAAD;MAAA,wBACE,QAAC,IAAD;QAAM,EAAE,EAAG,YAAWZ,OAAO,CAACoB,IAAK,EAAnC;QAAA,uBACE;UAAK,GAAG,EAAEpB,OAAO,CAACqB,KAAlB;UAAyB,GAAG,EAAErB,OAAO,CAACqB,KAAtC;UAA6C,SAAS,EAAC;QAAvD;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAIE,QAAC,IAAD,CAAM,IAAN;QAAA,wBACE,QAAC,IAAD;UAAM,EAAE,EAAG,YAAWrB,OAAO,CAACoB,IAAK,EAAnC;UAAA,uBACE,QAAC,IAAD,CAAM,KAAN;YAAA,WAAapB,OAAO,CAACsB,IAArB;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF,eAIE,QAAC,MAAD;UACE,MAAM,EAAEtB,OAAO,CAACuB,MADlB;UAEE,UAAU,EAAEvB,OAAO,CAACwB;QAFtB;UAAA;UAAA;UAAA;QAAA,QAJF,eAQE,QAAC,IAAD,CAAM,IAAN;UAAA,WAAYxB,OAAO,CAACyB,KAApB;QAAA;UAAA;UAAA;UAAA;QAAA,QARF,EASGzB,OAAO,CAACe,YAAR,KAAyB,CAAzB,gBACC,QAAC,MAAD;UAAQ,OAAO,EAAC,OAAhB;UAAwB,QAAQ,MAAhC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADD,gBAKC,QAAC,MAAD;UAAQ,OAAO,EAAE,MAAMT,gBAAgB,CAACN,OAAD,CAAvC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAdJ,EAeK,GAfL;MAAA;QAAA;QAAA;QAAA;MAAA,QAJF;IAAA;MAAA;MAAA;MAAA;IAAA;EAFF;AAyBD;;GAhDQF,O;;KAAAA,O;AAkDT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}